<!DOCTYPE html>
<html>
  <header>
    <meta charest="utf-8">
    <link rel="stylesheet" type="text/css" href="a.css">
  </header>
  <body>
    <div class="page first">
      <h1>first page</h1>
    </div>
    <div class="page secend">
      <h1>secend</h1>
    </div>
    <div class="page third">
      <h1>third</h1>
    </div>
    <script>
      document.documentElement.style.fontSize = 100 * innerWidth / 640 + 'px';
      addEventListener('load', function() {
        setTimeout(function(){
            document.documentElement.style.fontSize = 100 * innerWidth / 640 + 'px';
        }, 480);
        // 判断窗口是否在一个框架中
        var isInApp = (window.self != window.top);
        if (!isInApp) {
            window.parent.postMessage({name: 'web:inject', token: Math.random().toString(), usertype: 1}, '*');
        }
      })
      addEventListener('orientationchange', function() {
          document.documentElement.style.fontSize = 100 * innerWidth / 640 + 'px'
      });
      
      
      //- 监听手势事件
      
      addEventListener('touchstart',function(el){
        window.ee = el;
        el.target.classList.remove('animate')
        //- console.log(arguments, 'asdf')
      })
      addEventListener('touchmove',function(el){
        //- console.log(arguments, 'move')
      })
      addEventListener('touchend',function(el){
        window.end = el
        if(el.target.className.indexOf('third')>0) return;
        el.target.classList.add('animate')
        //- el.target.classList.add('animate')
        //- el.target.style.height=0
      
      })
    </script>
  </body>
</html>